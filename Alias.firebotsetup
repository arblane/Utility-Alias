{"name":"Alias","description":"Add/Remove Aliases for chat responses or TTS","version":1.1,"author":"arblane","components":{"commands":[{"active":true,"simple":false,"sendCooldownMessage":true,"cooldownMessage":"This command is still on cooldown for: {timeLeft}","cooldown":{},"effects":{"id":"d6e6ae9b-4ea1-4e60-8ad9-473baaa31540","list":[{"id":"a62aa080-0252-11ef-b06f-53601a19b3d6","type":"firebot:conditional-effects","active":false,"ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:command-args-count","comparisonType":"is","value":null,"rightSideValue":3}]},"effectData":{"list":[{"id":"b8dc64c0-0252-11ef-b06f-53601a19b3d6","type":"firebot:log-message","active":true,"logLevel":"Info","logMessage":"DBG: [$date $time] Alias correct number of arguments"}],"id":"a62dd4d0-0252-11ef-b06f-53601a19b3d6"},"label":"correct number of arguments provided"}],"otherwiseEffectData":{"list":[{"id":"042b6a70-0253-11ef-b06f-53601a19b3d6","type":"firebot:log-message","active":true,"logLevel":"Info","logMessage":"DBG: [$date $time] Alias invalid number of arguments"}],"id":"a62cc360-0252-11ef-b06f-53601a19b3d6"}},{"id":"e6016070-cda2-11ee-b38f-b5b50393e92b","type":"firebot:run-effect-list","active":true,"listType":"preset","presetListArgs":{"action":"$arg[1]","user":"$arg[2]","alias":"$arg[3,last]"},"effectList":{"list":[],"id":"e6033530-cda2-11ee-b38f-b5b50393e92b"},"presetListId":"29bc3510-588c-11ee-a7b2-bb9033e94bad"}]},"restrictionData":{"restrictions":[{"id":"0bd98010-589c-11ee-a7b2-bb9033e94bad","type":"firebot:permissions","mode":"roles","roleIds":["broadcaster","mod"]}],"mode":"all","sendFailMessage":true,"failMessage":"Sorry, you cannot use this command because: {reason}"},"aliases":[],"sortTags":["11b36fbe-0efc-4d9b-a5ec-4fd38e63782f"],"treatQuotedTextAsSingleArg":false,"trigger":"!alias","description":"Set/Remove alias of chat user","ignoreBot":true,"hidden":true,"subCommands":[],"id":"7130a560-589c-11ee-a7b2-bb9033e94bad","createdBy":"arblane","createdAt":"2023-09-21T12:32:23-04:00","count":111,"type":"custom","lastEditBy":"arblane","lastEditAt":"2024-07-21T11:44:50.176-04:00"}],"counters":[],"currencies":[],"effectQueues":[],"events":[],"eventGroups":[],"hotkeys":[],"presetEffectLists":[{"name":"[Utility] Get Alias","effects":{"list":[{"id":"c5e5edd0-0018-11ef-9b6e-c9ce54b8e033","type":"firebot:conditional-effects","active":true,"ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is not","value":null,"leftSideValue":"$userMetadata[$#user, alias]"}]},"effectData":{"list":[{"id":"da215f50-0018-11ef-9b6e-c9ce54b8e033","type":"firebot:log-message","active":true,"logLevel":"Info","logMessage":"DBG: [$date $time] Attempting to grab aliases","effectLabel":"Attempting..."},{"id":"1caf07f0-0019-11ef-9b6e-c9ce54b8e033","type":"firebot:customvariable","active":true,"ttl":15,"name":"aliases","variableData":"$userMetadata[$#user, alias]","effectLabel":"aliases"},{"id":"25da9880-0019-11ef-9b6e-c9ce54b8e033","type":"firebot:log-message","active":false,"logLevel":"Info","logMessage":"DBG: [$date $time] Aliases: $$aliases","effectLabel":"Log Aliases"},{"id":"aeedffa0-0653-11ef-a555-77b681237a62","type":"firebot:customvariable","active":true,"ttl":15,"name":"randomAlias","variableData":"$objectWalkPath[$arrayRandomItem[$$aliases], alias]","effectLabel":"randomAlias v2"},{"id":"e13bf110-0635-11ef-9616-51cb4b61ef98","type":"firebot:log-message","active":true,"logLevel":"Info","logMessage":"DBG: [$date $time] Random Alias >> $$randomAlias","effectLabel":"Log Random Alias"}],"id":"c5e885e0-0018-11ef-9b6e-c9ce54b8e033"},"label":"Grab the first alias set"}],"otherwiseEffectData":{"list":[{"id":"e7aceea0-0018-11ef-9b6e-c9ce54b8e033","type":"firebot:log-message","active":true,"logLevel":"Info","logMessage":"DBG: [$date $time] No aliases set","effectLabel":"No alias set"},{"id":"0ab19f90-0019-11ef-9b6e-c9ce54b8e033","type":"firebot:customvariable","active":true,"ttl":15,"name":"randomAlias","variableData":"$#user","effectLabel":"randomAlias"}],"id":"c5e77470-0018-11ef-9b6e-c9ce54b8e033"},"otherwiseLabel":"No alias use username"}],"id":"a4e7bf90-5885-11ee-a7b2-bb9033e94bad"},"args":[{"name":"user"}],"sortTags":["b5b82cd7-f6c2-42ce-ab7e-b3b623282615"],"id":"a4e79880-5885-11ee-a7b2-bb9033e94bad"},{"name":"[Utility] Set Alias","effects":{"list":[{"id":"fe8bc460-01d1-11ef-9592-91b3bebd4ecc","type":"firebot:log-message","active":true,"logLevel":"Info","logMessage":"DBG: [$date $time] Alias: $#action, $#user, $#alias"},{"id":"b481ad60-00b6-11ef-8194-df726632e71a","type":"firebot:conditional-effects","active":false,"ifs":[{"conditionData":{"mode":"inclusive","conditions":[{"type":"firebot:custom","comparisonType":"is not","value":null,"leftSideValue":"$#action"},{"type":"firebot:custom","comparisonType":"is not","value":null,"leftSideValue":"$#user"},{"type":"firebot:custom","comparisonType":"is not","value":null,"leftSideValue":"$#alias"}]},"effectData":{"list":[{"id":"e163d9c0-00b6-11ef-8194-df726632e71a","type":"firebot:chat","active":true,"chatter":"Bot","message":"Missing an argument, check your message and please try again. Format should be Action User Alias","sendAsReply":true}],"id":"b484baa0-00b6-11ef-8194-df726632e71a"}}],"otherwiseEffectData":{"list":[],"id":"b4838220-00b6-11ef-8194-df726632e71a"}},{"id":"243f2630-588f-11ee-a7b2-bb9033e94bad","type":"firebot:conditional-effects","active":true,"ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$userExists[$#user]","rightSideValue":"true"}]},"effectData":{"list":[{"id":"1139a300-5897-11ee-a7b2-bb9033e94bad","type":"firebot:customvariable","active":true,"ttl":15,"variableData":"$lowercase[$replace[$#alias, \"[^a-zA-Z\\d]\", \"\", true]]","name":"scrubbedAlias","effectLabel":"scrubbedAlias"},{"id":"e1ddc710-cda5-11ee-b38f-b5b50393e92b","type":"firebot:conditional-effects","active":true,"ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is not","value":null,"leftSideValue":"$userMetadata[$#user, alias]"}]},"effectData":{"list":[{"id":"05b29940-cda6-11ee-b38f-b5b50393e92b","type":"firebot:customvariable","active":true,"ttl":15,"name":"aliases","variableData":"$userMetadata[$#user, alias]","effectLabel":"get user aliases from metadata"}],"id":"e1e08630-cda5-11ee-b38f-b5b50393e92b"},"label":"there are aliases, grab them"}],"otherwiseEffectData":{"list":[],"id":"e1df74c0-cda5-11ee-b38f-b5b50393e92b"},"otherwiseLabel":"","effectLabel":"check for existing aliases"},{"id":"9ccd8c10-5892-11ee-a7b2-bb9033e94bad","type":"firebot:conditional-effects","active":true,"ifs":[{"conditionData":{"mode":"inclusive","conditions":[{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$#action","rightSideValue":"add"},{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$#action","rightSideValue":"new"}]},"effectData":{"list":[{"id":"04baeca0-5893-11ee-a7b2-bb9033e94bad","type":"firebot:conditional-effects","active":true,"ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$$aliases"}]},"effectData":{"list":[{"id":"6187d400-589f-11ee-a7b2-bb9033e94bad","type":"firebot:log-message","active":true,"logLevel":"Info","logMessage":"DBG: [$date $time] add, no alias array set","effectLabel":"add, no alias array set"},{"id":"60cdf480-588c-11ee-a7b2-bb9033e94bad","type":"firebot:set-user-metadata","active":true,"username":"$#user","key":"alias","data":"[{\"id\":\"$$scrubbedAlias\", \"alias\":\"$#alias\"}]"}],"id":"3a887070-588c-11ee-a7b2-bb9033e94bad"},"label":"no aliases, create"},{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"contains","value":null,"leftSideValue":"$$aliases","rightSideValue":"$$scrubbedAlias"}]},"effectData":{"list":[{"id":"6c65f690-589f-11ee-a7b2-bb9033e94bad","type":"firebot:log-message","active":true,"logLevel":"Info","logMessage":"DBG: [$date $time] add, alias exists"},{"id":"3cd35ef0-5899-11ee-a7b2-bb9033e94bad","type":"firebot:chat","active":true,"chatter":"Bot","message":"Sorry, you can't add another alias that already exists!","sendAsReply":true}],"id":"2ae586f0-5899-11ee-a7b2-bb9033e94bad"},"label":"exists already, prevent duplicate"}],"otherwiseEffectData":{"list":[{"id":"7be93730-589f-11ee-a7b2-bb9033e94bad","type":"firebot:log-message","active":true,"logLevel":"Info","logMessage":"DBG: [$date $time] add, alias doesn't exist","effectLabel":"add, alias doesn't exist"},{"id":"a9d88870-588c-11ee-a7b2-bb9033e94bad","type":"firebot:customvariable","active":false,"ttl":15,"name":"aliases","variableData":"$userMetadata[$#user, alias]","effectLabel":"aliases"},{"id":"12287b60-588d-11ee-a7b2-bb9033e94bad","type":"firebot:customvariable","active":true,"ttl":15,"name":"tAlias","variableData":"{\"id\":\"$$scrubbedAlias\", \"alias\":\"$#alias\"}","effectLabel":"tAlias"},{"id":"d6e76a20-588c-11ee-a7b2-bb9033e94bad","type":"firebot:customvariable","active":true,"ttl":15,"variableData":"$arrayAdd[$$aliases, $$tAlias]","name":"tAliases","effectLabel":"tAliases"},{"id":"2a73f6e0-588d-11ee-a7b2-bb9033e94bad","type":"firebot:set-user-metadata","active":true,"username":"$#user","key":"alias","data":"$$tAliases"}],"id":"3a8674a0-588c-11ee-a7b2-bb9033e94bad"},"otherwiseLabel":"add to aliases"}],"id":"9cd0c060-5892-11ee-a7b2-bb9033e94bad"},"label":"add/new"},{"conditionData":{"mode":"inclusive","conditions":[{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$#action","rightSideValue":"edit"},{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$#action","rightSideValue":"update"}]},"effectData":{"list":[{"id":"d6d45980-589b-11ee-a7b2-bb9033e94bad","type":"firebot:chat","active":true,"chatter":"Bot","message":"$capitalize[$#action] alias not yet implemented.","sendAsReply":true,"effectLabel":"not implemented"}],"id":"addebfb0-5892-11ee-a7b2-bb9033e94bad"},"label":"edit/update"},{"conditionData":{"mode":"inclusive","conditions":[{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$#action","rightSideValue":"remove"},{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$#action","rightSideValue":"delete"}]},"effectData":{"list":[{"id":"6d1a0880-5898-11ee-a7b2-bb9033e94bad","type":"firebot:conditional-effects","active":true,"ifs":[{"conditionData":{"mode":"inclusive","conditions":[{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$$aliases"},{"type":"firebot:custom","comparisonType":"does not contain","value":null,"leftSideValue":"$$aliases","rightSideValue":"$$scrubbedAlias"}]},"effectData":{"list":[{"id":"9d7c3a10-cdab-11ee-b38f-b5b50393e92b","type":"firebot:log-message","active":true,"logLevel":"Info","logMessage":"DBG: [$date $time] alias doesn't exist>$$scrubbedAlias<"},{"id":"736de800-5898-11ee-a7b2-bb9033e94bad","type":"firebot:chat","active":true,"chatter":"Bot","message":"Sorry, you can't $#action an alias that doesn't exist.","sendAsReply":true}],"id":"6d1d3cd0-5898-11ee-a7b2-bb9033e94bad"},"label":"no aliases or does not exist"}],"otherwiseEffectData":{"list":[{"id":"9d7c3a10-cdab-11ee-b38f-b5b50393e92b","type":"firebot:log-message","active":true,"logLevel":"Info","logMessage":"DBG: [$date $time] alias exists>$$scrubbedAlias<"},{"id":"2c34cdd0-589a-11ee-a7b2-bb9033e94bad","type":"firebot:set-user-metadata","active":true,"data":"$arrayFilter[$userMetadata[$#user, alias], $$scrubbedAlias, id, true]","key":"alias","username":"$#user"}],"id":"6d1bdd40-5898-11ee-a7b2-bb9033e94bad"},"otherwiseLabel":"remove it"}],"id":"b9d900a0-5892-11ee-a7b2-bb9033e94bad"},"label":"remove/delete"}],"otherwiseEffectData":{"list":[],"id":"9ccf87e0-5892-11ee-a7b2-bb9033e94bad"},"effectLabel":"add, edit, delete alias?"}],"id":"24420c60-588f-11ee-a7b2-bb9033e94bad"},"label":"user exists in firebot"}],"otherwiseEffectData":{"list":[{"id":"4badc0f0-588f-11ee-a7b2-bb9033e94bad","type":"firebot:chat","active":true,"chatter":"Bot","message":"Sorry, $#user cannot have an alias as they are not in Firebot.","sendAsReply":true}],"id":"2440acd0-588f-11ee-a7b2-bb9033e94bad"},"otherwiseLabel":"user doesn't exist in firebot","effectLabel":"check if user exists"}],"id":"29bc5c20-588c-11ee-a7b2-bb9033e94bad"},"args":[{"name":"action"},{"name":"user"},{"name":"alias"}],"sortTags":["b5b82cd7-f6c2-42ce-ab7e-b3b623282615"],"id":"29bc3510-588c-11ee-a7b2-bb9033e94bad"}],"timers":[],"viewerRoles":[],"quickActions":[]},"requireCurrency":false,"importQuestions":[]}